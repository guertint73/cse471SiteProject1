<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Subtractive Instrument</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
    integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <style media="screen">
      p {
        font-size:16px;
      }
      li {
        font-size: 16px;
      }
      .container-fluid{
        padding-bottom: 10px;
      }
    </style>

  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Subtractive Instrument</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="../">HomePage</a></li>
        </ul>
      </div>
    </nav>

    <div class="container-fluid" style="max-width: 1200px;">
      <div class="row">
        <div class="col-md-6 text-center">
          <h2>Component Owner: Tim Guertin</h2>
          <h4>XML Score for my demo piece</h4>
          <img src="Xmlphoto.png" class="img-thumbnail" alt="XML score" height="400" width="400">
          <br>
          <a href="project1-subtractive.score" style="font-size: 16px;">View XML here</a>
        </div>

        <div class="col-md-6 text-center">
          <h2>Component Details</h2>
          <p>
            This component implements a subtractive synthesizer.
            Upon reading the XML note tag, the wave variable tells the
            instrument CSubtractive which wave to generate, either a square,
            triangle, or sawtooth. The CSubtractive instrument is modeled on the
            CToneInstrumental class.
          </p>
          <br>
          <p>
            CSubtractive passes wave type information to CSubtractiveWave,
            where a wavetable containing one cycle of the specified wave is generated.
            This wavetable is then used to play the note for the duration
            specified by the note tag in the XML. The CSubtractiveWave is
            modeled on CSineWave, and streams each frame one at a time to be
            played. For each new note, the wavetable is cleared beforehand, so
            as to allow different waveforms to be played for each note (i.e.,
            a triangle wave followed directly by a sawtooth wave)
          </p>
          <br>
          <p>
            ADSR is handled to ensure proper note attack and release. Each frame
            also passes through a reson filter, so as to filter out the sound of
            the raw waveform, as is done with subtractive synthesis. In order to
            implement the Moog sound/filter envelopes, the normalized frequency
            of the reson filter is modulated according to time. For each frame,
            the normalized frequency is reset to change the filter to allow the
            sweep specified in the project description to occur. The affected
            frames are then passed back to CSubtractive and so forth, just as is
            done with the sounds generated by CToneInstrument.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 text-center">
          <h2>Grading Criteria Achieved</h2>
          <h4>The grading elements supported are:</h4>
          <ol class="list-inline">
            <li><strong>1. </strong>Waveform playback from tables</li>
            <li><strong>2. </strong>Varying pitch playback from tables</li>
            <li><strong>3. </strong>Envelope Generation</li>
            <li><strong>4. </strong>Polyphony</li>
            <li><strong>5. </strong>Reson Implementation</li>
            <li><strong>6. </strong>Filter Envelopes (sweeping the Moog sound)</li>
          </ol>
        </div>

        <div class="col-md-6 text-center">
          <h2>Specifications implemented</h2>
          <p><strong>Waveform Playback from Table: </strong>each table consists of once cycle
            of each wavetype (changing wavetype when specified in the XML
          </p>
          <p><strong>Varying Pitch Playback from Table: </strong>
            In <strong>CSubtractiveWave::Generate, </strong> I am generating interpolated
            samples from samples selected from the wavetable. I make the playback speed
            a sinusoidal function, and index m_wavetable accordingly.
          </p>
          <p><strong>Envelope Generation: </strong>ADSR present to allow for
            smooth transition between notes. XML contains attack value
            for dynamic envelope generation if user desires.
          </p>
          <p><strong>Polyphony: </strong>
            Instrument is polyphonic. Chords are able to be played.
          </p>
          <p><strong>Reson Implementation/Moog Sound: </strong>
            Reson filter is implemented, and is used to affect every frame streamed.
            Each frame upon being extracted from the wavetable is passed through
            the reson filter.
          </p>
          <p><strong>Filter Envelopes: </strong>
            The normalized frequency for the reson filter
            is sweeped according to time, much like the attack/release amplitude
            envelope filter. The reson filterâ€™s frequency is set accordingly for
            each frame, resulting in a sweeping filter being applied to each note.
            The max normalized frequency for the reson filter can be specified
            in the XML, if the user desires.
          </p>
        </div>
      </div>

    </div>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
  </body>
</html>
